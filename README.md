# Тестовое задание для Офисмаг
Перед Вами кусок проприетарного фреймворка, вернее лишь файлы логики для текущего задания.
Заранее извиняюсь за отсутсвие PSR-4, но так я могу выполнить задание максимально быстро в привычном для меня окружении.
### Controllers_JSON_Discount
Асинхронный контроллер, который принимает POST-запросы по адресам
- **/json/discount/get/** - получение скидки
- **/json/discount/check/** - проверка кода скидки

Возвращает данные в JSON, что и так понятно из названия
### Dao_Discount
Объект доступа к данным таблицы discount (схема в файле discount.sql).
Предоставляет методы:
- **getLastByUser($userid)** - получение последней скидки пользователя
- **check($code)** - проверка существования скидки по коду
- **clean()** - очистка устаревших скидок для выполнения в планировщике
### www/index.php
Точка входа в приложение, смысловой нагрузки не несёт.

Каждая строка кода прокомментирована, думаю, вопросов возникнуть не должно.
